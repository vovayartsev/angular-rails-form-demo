<h1>Listing users</h1>

<div ng-controller='UsersPageCtrl'>
  <table class="LeftHalf">
    <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Updated At</th>
      <th></th>
      <th></th>
    </tr>
    </thead>

    <tbody>
    <tr ng-repeat="user in users"
        ng-click="onTableRowClicked(user)"
        class="clickable"
        ng-class="{active: user.id == userInForm.id}">
      <td>{{user.name}}</td>
      <td>{{user.email}}</td>
      <td>{{user.updated_at}}</td>
    </tr>
    </tbody>
  </table>

  <div class="RightHalf">
    <form name="userForm" rails-form-for="userInForm" on-success="onFormSubmittedSuccessfully()">
      <div class="field">
        <label for="name">Name</label>
        <br>
        <input type="text" name="name" ng-model="userInForm.name">
      </div>
      <div class="field">
        <label for="email">Email</label>
        <br>
        <input type="text" name="email" ng-model="userInForm.email">
      </div>
      <div class="actions">
        <button type="submit">Submit Form</button>
      </div>
    </form>

  </div>
</div>
